import{initializeApp as w}from"https://www.gstatic.com/firebasejs/12.4.0/firebase-app.js";import{getAnalytics as P}from"https://www.gstatic.com/firebasejs/12.4.0/firebase-analytics.js";import{getFirestore as I,addDoc as k,collection as m,getDocs as C}from"https://www.gstatic.com/firebasejs/12.4.0/firebase-firestore.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const x={apiKey:"AIzaSyCeFOpaUwaFECdxZsiGXVHUyo7ycfBuCsg",authDomain:"portfolio-9da15.firebaseapp.com",projectId:"portfolio-9da15",storageBucket:"portfolio-9da15.firebasestorage.app",messagingSenderId:"818550472669",appId:"1:818550472669:web:9aed576a6b0716860b8034",measurementId:"G-9RCQPMJQG9"},j=w(x);P(j);const p=I(j),g=document.getElementById("contactBtn"),f=document.getElementById("clientName"),h=document.getElementById("clientEmail"),y=document.getElementById("messageTextarea"),M=document.getElementById("contactForm");g&&g.addEventListener("click",async()=>{if(!f.value||!h.value||!y.value)alert("Please fill all the fields before submitting.");else try{const e=await k(m(p,"Inquires"),{Name:f.value,Email:h.value,Message:y.value});console.log("Enquire add it with ID ",e.id),alert("Thank you for your message! I'll get back to you within 24 hours."),M.reset()}catch(e){console.error("Error saving the enquire ",e),alert("Sorry, there was an issue sending your message. Please try again or contact me directly at jguardoruiz@gmail.com")}});document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("messageTextarea");if(e){let t=function(){e.style.height="auto",e.style.height=Math.max(50,e.scrollHeight)+"px"};e.addEventListener("input",t),e.addEventListener("focus",t),t()}});const b=document.getElementById("gitHubSeb"),E=document.getElementById("linkedInSeb");b&&b.addEventListener("click",()=>{window.open("https://github.com/Jguardo03","_blank")});E&&E.addEventListener("click",()=>{window.open("https://www.linkedin.com/in/juan-sebastian-guardo-ruiz/","_blank")});const L=document.getElementById("gitHubSebF"),v=document.getElementById("linkedInSebF");L&&L.addEventListener("click",()=>{window.open("https://github.com/Jguardo03","_blank")});v&&v.addEventListener("click",()=>{window.open("https://www.linkedin.com/in/juan-sebastian-guardo-ruiz/","_blank")});async function B(){try{console.log("Fetching projects from Firebase...");const e=await C(m(p,"projects")),t=[];return e.forEach(n=>{t.push({id:n.id,...n.data()})}),console.log("✅ Projects fetched:",t),t}catch(e){return console.error("❌ Error fetching projects:",e),[]}}async function F(){try{console.log("Fetching featured projects from Firebase...");const e=await C(m(p,"projects")),t=[];return e.forEach(n=>{t.push({id:n.id,...n.data()})}),t.slice(0,3)}catch(e){return console.error("❌ Error fetching featured projects:",e),[]}}function H(e){const t=document.createElement("div");t.className="card card-projects",t.id=`project-${e.id}`;const n=document.createElement("div");n.style.width="100%",n.style.height="220px",n.style.overflow="hidden",n.style.border="none",n.style.borderRadius="8px 8px 0 0",n.style.display="block";const o=document.createElement("img");o.src=e.ProjectImage||"placeholder-image.jpg",o.alt=e.ProjectName||"Project",o.style.width="100%",o.style.height="100%",o.style.objectFit="cover",o.style.display="block",n.appendChild(o);const r=document.createElement("div");r.style.display="flex",r.style.gap="0.25rem",[e.Language1,e.Language2,e.Language3].filter(a=>a).forEach(a=>{const d=document.createElement("p");d.className="xs-tool",d.textContent=a,r.appendChild(d)});const s=document.createElement("h3");s.textContent=e.ProjectName||"Untitled Project";const l=document.createElement("p");l.textContent=e.ProjectDescription||"No description available";const c=document.createElement("i");return c.className="fa-brands fa-github",c.style.cursor="pointer",c.style.fontSize="1.5rem",c.addEventListener("click",()=>{e.GitHubURL?window.open(e.GitHubURL,"_blank"):console.log("GitHub URL not available for this project")}),t.appendChild(n),t.appendChild(r),t.appendChild(s),t.appendChild(l),t.appendChild(c),t}function N(e){const t=document.createElement("div");t.className="card project-card-main",t.id=`featured-project-${e.id}`;const n=document.createElement("div");n.style.width="100%",n.style.height="280px",n.style.overflow="hidden",n.style.border="none",n.style.borderRadius="8px 8px 0 0",n.style.display="block";const o=document.createElement("img");o.src=e.ProjectImage||"Resources/photo-1557821552-17105176677c.avif",o.alt=e.ProjectName||"Project",o.style.width="100%",o.style.height="100%",o.style.objectFit="cover",o.style.display="block",n.appendChild(o);const r=document.createElement("div");r.className="project-description";const i=document.createElement("div");i.style.display="flex",i.style.gap="0.25rem",[e.Language1,e.Language2,e.Language3].filter(d=>d).forEach(d=>{const u=document.createElement("p");u.className="xs-tool",u.textContent=d,i.appendChild(u)});const l=document.createElement("h2");l.textContent=e.ProjectName||"Untitled Project";const c=document.createElement("p");c.textContent=e.ProjectDescription||"No description available";const a=document.createElement("i");return a.className="fa-brands fa-github",a.style.cursor="pointer",a.style.fontSize="1.5rem",a.addEventListener("click",()=>{e.GitHubURL?window.open(e.GitHubURL,"_blank"):console.log("GitHub URL not available for this project")}),r.appendChild(i),r.appendChild(l),r.appendChild(c),r.appendChild(a),t.appendChild(n),t.appendChild(r),t}async function D(){const e=document.getElementById("projectsContainer");if(!e){console.error("Projects container not found!");return}e.innerHTML="";const t=document.createElement("div");t.innerHTML="<p>Loading projects...</p>",e.appendChild(t);try{const n=await B();if(e.innerHTML="",n.length===0){const o=document.createElement("div");o.innerHTML="<p>No projects found. Add some projects to your Firebase database!</p>",o.style.gridColumn="1 / -1",o.style.textAlign="center",o.style.padding="2rem",e.appendChild(o);return}n.forEach(o=>{const r=H(o);e.appendChild(r)}),console.log(`✅ Rendered ${n.length} project cards`)}catch(n){console.error("❌ Error rendering projects:",n),e.innerHTML="<p>Error loading projects. Please try again later.</p>"}}async function S(){const e=document.getElementById("featuredProjectsContainer");if(!e){console.error("Featured projects container not found!");return}e.innerHTML="<p>Loading featured projects...</p>";try{const t=await F();if(e.innerHTML="",t.length===0){const n=document.createElement("div");n.innerHTML="<p>No featured projects available at the moment.</p>",n.style.textAlign="center",n.style.padding="2rem",e.appendChild(n);return}t.forEach(n=>{const o=N(n);e.appendChild(o)}),console.log(`✅ Rendered ${t.length} featured project cards`)}catch(t){console.error("❌ Error rendering featured projects:",t),e.innerHTML="<p>Error loading featured projects. Please try again later.</p>"}}document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("mobileMenuToggle"),t=document.getElementById("mobileMenu");e&&t&&(e.addEventListener("click",function(){t.classList.toggle("active");const o=e.querySelector("i");t.classList.contains("active")?(o.classList.remove("fa-bars"),o.classList.add("fa-times")):(o.classList.remove("fa-times"),o.classList.add("fa-bars"))}),t.querySelectorAll("a").forEach(o=>{o.addEventListener("click",function(){t.classList.remove("active");const r=e.querySelector("i");r.classList.remove("fa-times"),r.classList.add("fa-bars")})}),document.addEventListener("click",function(o){if(!e.contains(o.target)&&!t.contains(o.target)){t.classList.remove("active");const r=e.querySelector("i");r.classList.remove("fa-times"),r.classList.add("fa-bars")}}))});document.addEventListener("DOMContentLoaded",function(){const e=window.location.pathname.split("/").pop()||"index.html";console.log("DOM loaded, initializing Firebase and page-specific functionality..."),e==="index.html"||e===""?S():e==="projects.html"&&D()});
